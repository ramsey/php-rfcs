====== PHP RFC: array_key_first() and array_key_last() ======
  * Version: 1.0
  * Date: 2018-06-11
  * Author: Enno Woortmann<enno.woortmann@web.de> 
  * Status: Under Discussion
  * First Published at: http://wiki.php.net/rfc/array_key_first_last

===== Introduction =====
As arrays are a powerful data structure it's handy in some cases to get the first or the last key of an array without a workaround. To accomplish this task this RFC adds two functions to the core:
  * $key = array_key_first($array);
  * $key = array_key_last($array);

===== Proposal =====
The current functions of the PHP core only allow to retrieve the first/last key of an array by changing the internal state of the array when using the functions reset(), end() and key(). Other implementation approaches are either inperformant (eg. usage of array_keys($array)[0], which additionally may lead to errors if $array is an empty array) or provide a construct which increases the cognitive complexity of the implementation (eg. usage of loops).

To avoid changes of the internal array representation in order to gather a single information from the array and to increase the comprehensibility of the userland code this RFC proposes two new functions for this task:

To gather the key of the **first** element of an array the method **array_key_first($array)** will be added.

To gather the key of the **last** element of an array the method **array_key_last($array)** will be added.

<code php>
// usage of an associative array
$array = ['a' => 1, 'b' => 2, 'c' => 3];

$firstKey = array_key_first($array);
$lastKey = array_key_last($array);

assert($firstKey === 'a');
assert($lastKey === 'c');

// usage of a numeric array
$array = [1 => 'a', 2 => 'b', 3 => 'c'];

$firstKey = array_key_first($array);
$lastKey = array_key_last($array);

assert($firstKey === 1);
assert($lastKey === 3);

// usage of an empty array
$array = [];

$firstKey = array_key_first($array);
$lastKey = array_key_last($array);

assert($firstKey === null);
assert($lastKey === null);
</code>

The functions either return the requested key or null if an empty array is provided.

===== Backward Incompatible Changes =====
None.

===== Proposed PHP Version(s) =====
next PHP 7.x

===== RFC Impact =====
As this RFC adds two new functions there is a possible impact on existing userland extensions where developers created helper functions with an identical name. As the functions proposed provide a meaningful name custom functions should implement an identical functionality and thus be replaceable.

There is no impact to SAPIs or the opcache.

===== Open Issues =====
To provide a complete set of functions to the PHP community the corresponding functions for handling the values of an array (eg. **array_value_first()** and **array_value_last()**) are still missing after implementing the current scope of this RFC. To resolve this issue there are three possibilities to be discussed:
  * Expand the scope of this RFC to implement a complete set of functions to handle the outer elements of an array
  * Add a future scope to this RFC to add those functions
  * Skip the implementation of those functions

===== Proposed Voting Choices =====
As this RFC doesn't change the syntax of PHP a 50%+1 majority is required.

===== Patches and Tests =====
The GitHub pull request which provides the functionality and the related tests is located at https://github.com/php/php-src/pull/3256

===== Implementation =====
After the project is implemented, this section should contain 
  - the version(s) it was merged into
  - a link to the git commit(s)
  - a link to the PHP manual entry for the feature
  - a link to the language specification section (if any)
